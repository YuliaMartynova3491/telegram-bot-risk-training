# Правила безопасности для разработчиков

## Общие принципы безопасности

1. **Никогда не храните секреты в коде**
   - Все токены, пароли, API ключи должны храниться в переменных окружения
   - Используйте файл `.env` для локального хранения секретов
   - Файл `.env` должен быть в `.gitignore`

2. **Используйте шаблоны для конфигурационных файлов**
   - Создавайте файлы с расширением `.template` или `.example`
   - В шаблонах используйте заглушки вместо настоящих значений

3. **Проверяйте коммиты перед отправкой**
   - Используйте `git diff --staged` для проверки изменений
   - Убедитесь, что секреты не попадают в репозиторий

## Процесс разработки

### Настройка проекта

1. Клонируйте репозиторий
2. Скопируйте `.env.example` в `.env` и заполните своими значениями
3. Скопируйте `app/config.py.template` в `app/config.py`

### Перед коммитом

1. Выполните `git diff --staged` для просмотра изменений
2. Проверьте на наличие секретов и личных данных
3. Убедитесь, что не коммитите файлы:
   - `.env`
   - `app/config.py`
   - Любые файлы с секретами

### Добавление новых секретов

1. Если требуется новый секрет:
   - Добавьте его в `.env` и `app/config.py`
   - Обновите `.env.example` и `app/config.py.template` с заглушкой
   - Обновите документацию

## Обработка инцидентов безопасности

Если произошла утечка секретов:

1. Немедленно отзовите и замените все скомпрометированные токены
2. Проверьте историю Git на наличие других утечек
3. Рассмотрите возможность использования `git filter-branch` для удаления секретов из истории

## Полезные команды

```bash
# Проверка изменений перед коммитом
git diff --staged

# Проверка, что файлы с секретами не отслеживаются
git ls-files | grep -E '\.env|config\.py'

# Добавление файла в .gitignore, если он уже отслеживается
git rm --cached app/config.py
```